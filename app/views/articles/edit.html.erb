<div class="container mx-auto px-4">
  <div class="flex justify-center mt-14">
    <div class="w-full max-w-5xl">
      <h1 class="text-2xl font-bold mb-10">記事編集</h1>
      <%= form_with model: @article, local: true do |f| %>
        <%= render 'shared/error_messages', object: f.object %>

        <div class="mb-10">
          <div class="flex items-center mb-1">
            <%= f.label :oshi_name_name, class: "block mr-1" %>
            <p class="text-red-500">(必須)</p>
          </div>
          <%= f.text_field :oshi_name_name, value: @article.oshi_name&.name, class: "input input-bordered w-full max-w-xs" %>
        </div>

        <div class="mb-10">
          <div class="flex items-center mb-1">
            <%= f.label :title, class: "block mr-1" %>
            <p class="text-red-500">(必須)</p>
          </div>
          <%= f.text_field :title, class: "input input-bordered w-full max-w-xs" %>
        </div>

        <div class="mb-10">
          <%= f.label :notice, class: "block mb-1" %>
          <%= f.text_field :notice, class: "input input-bordered w-full max-w-xs" %>
        </div>

        <div class="mb-10">
          <%= f.label :category, class: "block mb-1" %>
          <%= f.select :category, Article.categories_i18n.keys.map { |w| [I18n.t("enums.article.category.#{w}"), w] }, {}, class: "input input-bordered w-full max-w-xs" %>
        </div>

        <div class="mb-10">
          <div class="flex items-center mb-1">
            <%= f.label :content, class: "block mr-1" %>
            <p class="text-red-500">(必須)</p>
          </div>
          <%= f.rich_text_area :content %>
        </div>

        <div class="mb-10">
          <%= f.label :tag_name, class: "block mb-1" %>
          <%= f.text_field :tag_name, placeholder: "、で区切って入力してください", value: params[:article] ? params[:article][:tag_name] : @article.tags.map(&:name).join('、'), class: "input input-bordered w-full max-w-xs" %>
        </div>

        <div class="mb-10">
          <%= f.label :visible_gender, class: "block mb-1" %>
          <%= f.select :visible_gender, Article.visible_genders_i18n.keys.map { |w| [I18n.t("enums.article.visible_gender.#{w}"), w] }, {}, class: "input input-bordered w-full max-w-xs" %>
        </div>

        <div class="mb-10">
          <%= f.label :visible_oshi, class: "block mb-1" %>
          <%= f.check_box :visible_oshi, { checked: @article.visible_oshi }, true, false %>
        </div>

          <%= f.submit "更新", class: 'btn btn-neutral mb-10' %>
          <%= link_to "戻る", articles_path, class: 'btn btn-neutral mb-10 ml-5' %>
      <% end %>
    </div>
  </div>
</div>